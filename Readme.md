twitter aggregator
============================

Цель: настройка рабочего окружения, знакомство с sbt и несколькими популярными scala библиотеками - akka, spray (client), specs2, typesafe config, концепциями акторов, тестированием с помощью specs2.

Real-time агрегатор нескольких twitter search стримов (каждый обрабатывается отдельным akka актором). Приложение представляет из себя command line утилиту которой передается файл конфига (в формате typesafe config) с описанием search параметров и необходимыми настройками (для akka, spray). При запуске оно читает конфигурацию из заданного файла, запускает akka system с необходимым набором акторов и по мере поступления новых результатов поиска выводит их на консоль и заодно собирает некоторую статистику (кол-во обработанных результатов поиска на каждое query например). Когда пользователю это надоедает - он нажимает Ctrl-C (в предположении что у вас линукс или мак - если windows то сочетание возможно другое и я его не помню :) но оно есть) - программа должна выдать собранную статистику на консоль, зашатдаунить akka system и собс-но завершиться.

Приложение должно быть устойчиво к проблемам сети (предполагается использовать akka supervisor-ы), корректно обрабатывать реконнекты и ошибки.

Стрим представляет из себя "бесконечный" chunked response (используя twitter streaming api - https://dev.twitter.com/streaming/overview ) на запрос вида https://dev.twitter.com/streaming/overview/request-parameters#track . Для обработки данных по мере поступления (не дожидаясь пока весь response body будет загружен) предполагается использовать поддержку chunked responses доступную в http://spray.io/documentation/1.2.2/spray-can/http-client/#chunked-responses (использовать специализированные twitter api библиотеки в этой задаче не нужно - исключительно в учебных целях конечно).

Аутентификацию в twitter так же предполагается делать вручную с ипользованием spray client, описание самого процесса см. в https://dev.twitter.com/oauth/pin-based . Т.к. flow достаточно сложный и сам по себе oauth не является значимой частью нашего курса, то к вечеру 14-го февраля мы выложим пример реализации аутентификации с помощью spray - вы можете либо взять соотв. код либо написать самостоятельно.

Еще одно опциональное требование - мониторинг поведения akka и spray с помощью http://kamon.io/ (собирамые результаты также можно выводить куда-нибудь в любом формате).

Для этого приложения предполагается написать интеграционные (и по необходимости юнит) тесты на specs2 (тесты не должны требовать коннекта к твиттеру, но при этом должны максимально полно прогонять весь остальной flow).

Через ориентировочно две недели будет выложено "reference" :) решение от Scala разработчиков из Cherrit.

